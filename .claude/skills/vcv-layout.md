# /vcv-layout

MADZINE 模組佈局檢查與設計助手

## 使用方式
```
/vcv-layout check [模組名稱]    # 檢查現有模組佈局
/vcv-layout new [HP] [模組名稱]  # 設計新模組佈局
/vcv-layout fix [模組名稱]      # 修正佈局問題
```

## 範例
```
/vcv-layout check UniversalRhythm
/vcv-layout new 12HP MyFilter
/vcv-layout fix Quantizer
```

---

## ⚠️ 強制規則（必須檢查）

### 規則 1: 標題區域固定高度（Y=0-30）
**所有模組的標題必須在 Y=30 以內**

| 標題類型 | 第一行 Y | 第二行 Y | 第三行 Y | 標題框高度 |
|----------|----------|----------|----------|------------|
| 兩行（標準） | 1 | 13 | - | 30px |
| 三行（效果器） | 6 | 15 | 24 | 30px |

**首個控制元件：** 標籤 Y≥28，旋鈕 Y≥52

### 規則 2: Y=330 以下必須是白色背景
所有模組都必須確保 Y=330 以下有白色背景區域。
- 檢查 SVG 面板是否包含白色矩形
- 或檢查程式碼是否有 `WhiteBackgroundBox`

### 規則 3: 標籤與旋鈕間距（依旋鈕尺寸）

| 旋鈕尺寸 | 正確差距 | 公式 |
|----------|----------|------|
| 26px (StandardBlackKnob26, MediumGrayKnob) | **20px** | 標籤 Y = 旋鈕 Y - 20 |
| 30px (StandardBlackKnob, WhiteKnob) | **30px** | 標籤 Y = 旋鈕 Y - 30 |

**26px 旋鈕範例：**
- 正確：標籤 Y=35, 旋鈕 Y=55 (差 20px) ✓
- 錯誤：標籤 Y=38, 旋鈕 Y=55 (差 17px) ✗

**30px 旋鈕範例：**
- 正確：標籤 Y=55, 旋鈕 Y=85 (差 30px) ✓
- 錯誤：標籤 Y=65, 旋鈕 Y=85 (差 20px) ✗

---

## 全域 UI 標準
- **最小字體：14pt**（所有文字）
- **禁止使用縮寫**（使用完整名稱）

## 功能
1. **檢查現有佈局**：
   - 驗證所有文字至少 14pt
   - 驗證標籤使用完整名稱（無縮寫）
   - 驗證標籤顏色是否正確（橘色/白色/黑色/粉紅）
   - 驗證 Y=330 白色區域是否正確實作
   - 驗證標籤與控制元件間距
   - 驗證旋鈕種類選擇是否適當

2. **設計新模組佈局**：
   - 根據 HP 尺寸建議佈局
   - 套用標準 Y 分區（0-30 標題、30-330 控制、330-380 I/O）
   - 選擇適當的旋鈕類型
   - 產生完整的 Widget 程式碼

3. **修正佈局問題**：
   - 修正標籤位置
   - 調整顏色配置
   - 重新排列控制元件

## 參考文件
- `.claude/commands/layout.md` - 佈局設計規範（完整）
- `CLAUDE.md` - 開發指南

## Agent
使用 Layout Design Agent 執行此技能
