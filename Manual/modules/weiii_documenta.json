{
  "wide": false,
  "name": "weiii documenta",
  "hp": "12 HP",
  "description": "Recording sampler emulating analog no-input mixer feedback with real-time transient slicing, 3-band EQ, send/return loop, soft limiter, and chaotic parameter morphing",
  "features": [
    "Stereo recording sampler with 60s buffer",
    "Real-time transient slicing",
    "Chaotic parameter morphing",
    "3-band EQ processing",
    "Send/Return loop for external effects",
    "Soft limiter at -3dB (7.07V threshold)",
    "Polyphonic playback up to 8 voices"
  ],
  "manual": "<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">Overview</h3>\n<p style=\"margin-bottom: 1rem;\">Recording sampler with chaotic parameter morphing, feedback matrix, and slice engine. Combines real-time recording with automatic transient detection, polyphonic playback, 3-band EQ, sample and hold modulation, and parameter morphing. Maximum recording time: 60 seconds at 48kHz. Designed for experimental sound design and live performance.</p>\n\n<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">Recording and Slicing</h3>\n<ul style=\"padding-left: 1.5rem; margin-bottom: 1rem;\">\n<li><b>REC</b>: Toggle recording. Clears existing slices on start.</li>\n<li><b>Transient Detection</b>: Triggers new slice when amplitude crosses threshold from below</li>\n<li><b>THRESHOLD</b>: Detection threshold (0-10V, default 1V). Adjusting while not recording rescans existing buffer.</li>\n<li><b>MIN SLICE</b>: Minimum time between slices (0.001-1.0s, default 0.05s)</li>\n<li><b>Slice Storage</b>: Dynamic std::vector (unlimited slices). Each slice stores startSample, endSample, peakAmplitude.</li>\n</ul>\n\n<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">Speed Control</h3>\n<ul style=\"padding-left: 1.5rem; margin-bottom: 1rem;\">\n<li><b>Non-linear Mapping</b>: Knob 0-1 maps to -8x to +8x with 1x at center</li>\n<li><b>0-25%</b>: Reverse playback from -8x to 0</li>\n<li><b>25-50%</b>: Forward playback from 0 to 1x</li>\n<li><b>50-100%</b>: Forward playback from 1x to 8x</li>\n<li><b>Linear Interpolation</b>: Sub-sample accuracy using playbackPhase for smooth playback at all speeds</li>\n</ul>\n\n<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">Polyphonic Voice System</h3>\n<ul style=\"padding-left: 1.5rem; margin-bottom: 1rem;\">\n<li><b>POLY</b>: 1-8 voices (integer snap, CV modulatable)</li>\n<li><b>Voice Structure</b>: Each voice has independent sliceIndex, playbackPosition, playbackPhase, speedMultiplier</li>\n<li><b>Speed Variation</b>: Voices 1-7 get random speedMultiplier (0.5-2.0x)</li>\n<li><b>Slice Switching</b>: Voices randomly switch slices based on sliceChangeTimer (0.5-2.0s intervals)</li>\n<li><b>Mix Output</b>: Multi-voice output divided by numVoices to prevent clipping</li>\n</ul>\n\n<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">Slice Crossfade</h3>\n<ul style=\"padding-left: 1.5rem; margin-bottom: 1rem;\">\n<li><b>Fade Time</b>: 0.1ms (SLICE_FADE_TIME_MS constant)</li>\n<li><b>Fade Increment</b>: Calculated from fade time and sample rate</li>\n<li><b>Pending Slice</b>: New slice stored in pendingSliceIndex during fade-out, applied after envelope reaches 0</li>\n<li><b>Maximum Oscillator Frequency</b>: ~5kHz (limited by 0.1ms fade envelope)</li>\n</ul>\n\n<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">Parameter Smoothing</h3>\n<ul style=\"padding-left: 1.5rem; margin-bottom: 1rem;\">\n<li><b>Exponential Filter</b>: Smoothly interpolates toward target with 0.5% step per sample</li>\n<li><b>Time Constant</b>: ~5ms at 44.1kHz</li>\n<li><b>Smoothed Parameters</b>: Scan, Threshold, LoopEnd, FeedbackAmount, FeedbackDelay</li>\n</ul>\n\n<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">Feedback System</h3>\n<ul style=\"padding-left: 1.5rem; margin-bottom: 1rem;\">\n<li><b>No-Input Feedback</b>: Output feeds back to input with analog-style saturation</li>\n<li><b>Saturation</b>: Applies tanh soft-clipping scaled for unity gain at low levels</li>\n<li><b>Mix</b>: Feedback signal added to output scaled by feedback amount</li>\n</ul>\n\n<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">Morph System</h3>\n<ul style=\"padding-left: 1.5rem; margin-bottom: 1rem;\">\n<li><b>States</b>: IDLE, MORPHING, HOLDING, RETURNING</li>\n<li><b>Curves</b>: Linear, Smooth (S-curve easing), Exponential (fast attack, slow decay), Bezier (cubic)</li>\n<li><b>Default Targets</b>: EQ, Scan, Feedback, Speed enabled. Threshold, MinSlice, S&H disabled.</li>\n<li><b>Morph Time</b>: 1-20 seconds (configurable via right-click)</li>\n</ul>\n\n<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">Send/Return Loop</h3>\n<ul style=\"padding-left: 1.5rem; margin-bottom: 1rem;\">\n<li><b>Send L/R</b>: Outputs the current audio signal before EQ processing, within the feedback loop</li>\n<li><b>Return L/R</b>: When connected, replaces the signal with external return. Allows inserting external effects into the feedback chain.</li>\n<li><b>Signal Chain Position</b>: Send/Return sits after playback+feedback mixing, before EQ. The EQ'd output then feeds back into the next cycle.</li>\n</ul>\n\n<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">Soft Limiter</h3>\n<ul style=\"padding-left: 1.5rem; margin-bottom: 1rem;\">\n<li><b>Threshold</b>: -3dB (7.07V for 10V peak system)</li>\n<li><b>Below Threshold</b>: Signal passes through unchanged (linear)</li>\n<li><b>Above Threshold</b>: Soft knee compression with saturation amount 0.2</li>\n<li><b>Position</b>: Applied to main output after EQ, before final output stage</li>\n</ul>\n\n<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">EQ Section</h3>\n<ul style=\"padding-left: 1.5rem; margin-bottom: 1rem;\">\n<li><b>Low</b>: 80Hz shelf (Allen & Heath reference)</li>\n<li><b>Mid</b>: 2.5kHz peak</li>\n<li><b>High</b>: 12kHz shelf</li>\n<li><b>Range</b>: ±12dB per band</li>\n<li><b>Implementation</b>: TBiquadFilter (IIR)</li>\n</ul>\n\n<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">Sample & Hold</h3>\n<ul style=\"padding-left: 1.5rem; margin-bottom: 1rem;\">\n<li><b>Rate</b>: Logarithmic mapping, range 0.01-100Hz (center = 1Hz)</li>\n<li><b>Slew</b>: 0-1 second slew time</li>\n<li><b>Amount</b>: 0-5x gain multiplier</li>\n<li><b>Output</b>: ±10V CV output</li>\n</ul>\n\n<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">Parameter Reference</h3>\n<ul style=\"padding-left: 1.5rem; margin-bottom: 1rem;\">\n<li><b>Slice Scan</b>: Scan position through recorded slices (0-100%). CV modulatable.</li>\n<li><b>Scan CV Attenuverter</b>: Attenuverter for Slice Scan CV input (-1.0 to +1.0).</li>\n<li><b>Slice Threshold</b>: Transient detection threshold (0-10V, default 1V). Rescans buffer when adjusted outside recording.</li>\n<li><b>Min Slice Time</b>: Minimum time between slices (0.001-1.0s, default 0.05s).</li>\n<li><b>Loop End Point</b>: Loop end position (0-100%, default 100%).</li>\n<li><b>Morph Random (Hold)</b>: Hold button for chaotic parameter morphing. Randomizes enabled targets while held.</li>\n<li><b>Feedback Amount</b>: No-input feedback level (0-100%). Adds tanh-saturated output back to input.</li>\n<li><b>Feedback CV Attenuverter</b>: Attenuverter for Feedback Amount CV input (-1.0 to +1.0).</li>\n<li><b>Low EQ (80Hz)</b>: Low shelf EQ at 80Hz (±12dB).</li>\n<li><b>Mid EQ (2.5kHz)</b>: Mid peak EQ at 2.5kHz (±12dB).</li>\n<li><b>High EQ (12kHz)</b>: High shelf EQ at 12kHz (±12dB).</li>\n<li><b>Playback Speed</b>: Non-linear speed control. 0-25%: reverse -8x to 0. 25-50%: forward 0 to 1x. 50-100%: forward 1x to 8x.</li>\n<li><b>Polyphonic Voices</b>: Number of playback voices (1-8, integer snap). CV modulatable.</li>\n<li><b>S&H Slew Time</b>: Sample & Hold slew time (0-1s). Smooths CV transitions.</li>\n<li><b>S&H Gain</b>: Sample & Hold gain multiplier (0-5x).</li>\n<li><b>S&H Gain CV Attenuverter</b>: Attenuverter for S&H Gain CV input (-1.0 to +1.0).</li>\n<li><b>S&H Sample Rate</b>: Sample & Hold rate (0.01-100Hz, logarithmic). Center = 1Hz.</li>\n<li><b>S&H Rate CV Attenuverter</b>: Attenuverter for S&H Rate CV input (-1.0 to +1.0).</li>\n<li><b>Record</b>: Toggle recording. Clears existing slices on start.</li>\n<li><b>Play/Loop (cycles: Loop → Play)</b>: Toggle playback mode. Cycles between Loop and one-shot Play.</li>\n<li><b>Stop (hold 2 sec to Clear)</b>: Stop playback. Hold for 2 seconds to clear buffer.</li>\n</ul>\n\n<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">Input Reference</h3>\n<ul style=\"padding-left: 1.5rem; margin-bottom: 1rem;\">\n<li><b>Audio L</b>: Left audio input for recording.</li>\n<li><b>Audio R</b>: Right audio input for recording.</li>\n<li><b>Slice Scan CV</b>: CV input for slice scan position modulation.</li>\n<li><b>Threshold CV</b>: CV input for threshold modulation.</li>\n<li><b>Feedback Amount CV</b>: CV input for feedback amount modulation.</li>\n<li><b>Speed CV</b>: CV input for playback speed modulation.</li>\n<li><b>Polyphonic CV</b>: CV input for voice count modulation.</li>\n<li><b>S&H Amount CV</b>: CV input for S&H gain modulation.</li>\n<li><b>S&H Rate CV</b>: CV input for S&H rate modulation.</li>\n<li><b>Return L</b>: Left return input for external effects loop.</li>\n<li><b>Return R</b>: Right return input for external effects loop.</li>\n<li><b>Rec Trigger</b>: Trigger input to toggle recording.</li>\n<li><b>Play Trigger</b>: Trigger input to toggle playback.</li>\n<li><b>Clear Trigger</b>: Trigger input to stop/clear.</li>\n<li><b>Morph Gate</b>: Gate input for parameter morphing. Morphs while gate is high.</li>\n</ul>\n\n<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">Output Reference</h3>\n<ul style=\"padding-left: 1.5rem; margin-bottom: 1rem;\">\n<li><b>Main L</b>: Left main audio output (with EQ and soft limiter applied).</li>\n<li><b>Main R</b>: Right main audio output (with EQ and soft limiter applied).</li>\n<li><b>S&H CV</b>: Sample & Hold CV output (±10V).</li>\n<li><b>Send L</b>: Left send output for external effects loop (pre-EQ).</li>\n<li><b>Send R</b>: Right send output for external effects loop (pre-EQ).</li>\n</ul>\n\n<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">Technical Specifications</h3>\n<ul style=\"padding-left: 1.5rem;\">\n<li>Module width: 12HP</li>\n<li>Buffer size: 60 seconds at 48kHz (2,880,000 samples per channel)</li>\n<li>Internal processing: ±10V hard clamp in sample engine</li>\n<li>Main output: Soft limiter at -3dB (7.07V threshold), soft knee compression above</li>\n<li>EQ implementation: Biquad IIR filters</li>\n<li>Slice storage: Dynamic vector (unlimited)</li>\n<li>Random engine: std::default_random_engine with time-based seed</li>\n<li>State persistence: Buffer, slices, all parameters saved to JSON</li>\n</ul>",
  "description_zh": "錄音 Sampler，模擬 No-input Mixer 回饋效果，具備即時 Transient 切片、3 段 EQ、Send/Return 迴路、Soft Limiter 與混沌參數變形",
  "description_ja": "ノーインプットミキサーのフィードバックを再現する録音サンプラー、リアルタイムトランジェントスライス、3バンドEQ、センド/リターンループ、ソフトリミッター、カオスパラメータモーフィング搭載",
  "features_zh": [
    "Stereo 錄音 Sampler，60 秒 Buffer",
    "即時 Transient 切片",
    "混沌參數變形",
    "3 段 EQ 處理",
    "Send/Return 迴路供外部效果器使用",
    "Soft Limiter -3dB（7.07V 閾值）",
    "最多 8 聲 Polyphonic Playback"
  ],
  "features_ja": [
    "ステレオ録音サンプラー、60秒バッファ",
    "リアルタイムトランジェントスライス",
    "カオスパラメータモーフィング",
    "3バンドEQ処理",
    "外部エフェクト用センド/リターンループ",
    "ソフトリミッター -3dB（7.07V閾値）",
    "最大8ボイスポリフォニック再生"
  ],
  "manual_zh": "<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">概述</h3>\n<p style=\"margin-bottom: 1rem;\">具備混沌參數變形、Feedback Matrix 與 Slice 引擎的錄音 Sampler。結合即時錄音與自動 Transient 偵測、Polyphonic Playback、3 段 EQ、Sample and Hold Modulation 與參數變形。最長錄音時間：48kHz 時 60 秒。專為實驗性音效設計與現場演出設計。</p>\n\n<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">錄音與切片</h3>\n<ul style=\"padding-left: 1.5rem; margin-bottom: 1rem;\">\n<li><b>REC</b>: 切換錄音。開始時清除既有 Slice。</li>\n<li><b>Transient Detection</b>: 當振幅由下往上穿越閾值時觸發新 Slice</li>\n<li><b>THRESHOLD</b>: 偵測閾值（0-10V，預設 1V）。非錄音時調整會重新掃描既有 Buffer。</li>\n<li><b>MIN SLICE</b>: Slice 間最小時間（0.001-1.0s，預設 0.05s）</li>\n<li><b>Slice Storage</b>: 動態 std::vector（無限 Slice）。每個 Slice 儲存 startSample、endSample、peakAmplitude。</li>\n</ul>\n\n<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">速度控制</h3>\n<ul style=\"padding-left: 1.5rem; margin-bottom: 1rem;\">\n<li><b>非線性映射</b>: Knob 0-1 映射至 -8x 到 +8x，中心為 1x</li>\n<li><b>0-25%</b>: 反向播放 -8x 至 0</li>\n<li><b>25-50%</b>: 正向播放 0 至 1x</li>\n<li><b>50-100%</b>: 正向播放 1x 至 8x</li>\n<li><b>線性插值</b>: 使用 playbackPhase 進行次樣本精度，在所有速度下流暢播放</li>\n</ul>\n\n<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">Polyphonic Voice 系統</h3>\n<ul style=\"padding-left: 1.5rem; margin-bottom: 1rem;\">\n<li><b>POLY</b>: 1-8 聲（整數對齊，可 CV 調變）</li>\n<li><b>Voice 結構</b>: 每個 Voice 擁有獨立的 sliceIndex、playbackPosition、playbackPhase、speedMultiplier</li>\n<li><b>速度變化</b>: Voice 1-7 獲得隨機 speedMultiplier（0.5-2.0x）</li>\n<li><b>Slice 切換</b>: Voice 根據 sliceChangeTimer（0.5-2.0s 間隔）隨機切換 Slice</li>\n<li><b>混合輸出</b>: 多 Voice 輸出除以 numVoices 以防止削波</li>\n</ul>\n\n<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">Slice Crossfade</h3>\n<ul style=\"padding-left: 1.5rem; margin-bottom: 1rem;\">\n<li><b>Fade 時間</b>: 0.1ms（SLICE_FADE_TIME_MS 常數）</li>\n<li><b>Fade 增量</b>: 根據 Fade 時間與 Sample Rate 計算</li>\n<li><b>待處理 Slice</b>: Fade-out 期間新 Slice 儲存於 pendingSliceIndex，在 Envelope 達 0 後套用</li>\n<li><b>最大 Oscillator 頻率</b>: 約 5kHz（受 0.1ms Fade Envelope 限制）</li>\n</ul>\n\n<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">參數平滑</h3>\n<ul style=\"padding-left: 1.5rem; margin-bottom: 1rem;\">\n<li><b>指數濾波器</b>: 每個 Sample 以 0.5% 步進平滑插值趨向目標值</li>\n<li><b>時間常數</b>: 44.1kHz 時約 5ms</li>\n<li><b>平滑參數</b>: Scan、Threshold、LoopEnd、FeedbackAmount、FeedbackDelay</li>\n</ul>\n\n<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">Feedback 系統</h3>\n<ul style=\"padding-left: 1.5rem; margin-bottom: 1rem;\">\n<li><b>No-Input Feedback</b>: 輸出回授至輸入，帶類比風格飽和</li>\n<li><b>飽和</b>: 套用 tanh 軟削波，低電平時保持單位增益</li>\n<li><b>混合</b>: Feedback 訊號依 Feedback Amount 縮放後加至輸出</li>\n</ul>\n\n<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">Morph 系統</h3>\n<ul style=\"padding-left: 1.5rem; margin-bottom: 1rem;\">\n<li><b>狀態</b>: IDLE、MORPHING、HOLDING、RETURNING</li>\n<li><b>曲線</b>: Linear、Smooth（S 曲線緩動）、Exponential（快起慢收）、Bezier（cubic）</li>\n<li><b>預設目標</b>: EQ、Scan、Feedback、Speed 啟用。Threshold、MinSlice、S&H 停用。</li>\n<li><b>Morph 時間</b>: 1-20 秒（可透過右鍵選單設定）</li>\n</ul>\n\n<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">Send/Return 迴路</h3>\n<ul style=\"padding-left: 1.5rem; margin-bottom: 1rem;\">\n<li><b>Send L/R</b>: 在 EQ 處理前輸出目前音訊訊號，位於 Feedback 迴路內</li>\n<li><b>Return L/R</b>: 連接時取代訊號為外部 Return。可將外部效果器插入 Feedback 鏈路。</li>\n<li><b>訊號鏈位置</b>: Send/Return 位於播放+Feedback 混合之後、EQ 之前。EQ 後的輸出再回授至下一循環。</li>\n</ul>\n\n<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">Soft Limiter</h3>\n<ul style=\"padding-left: 1.5rem; margin-bottom: 1rem;\">\n<li><b>閾值</b>: -3dB（10V 峰值系統中為 7.07V）</li>\n<li><b>低於閾值</b>: 訊號直通不變（線性）</li>\n<li><b>高於閾值</b>: Soft Knee 壓縮，Saturation Amount 0.2</li>\n<li><b>位置</b>: 套用於 EQ 之後、最終輸出前的 Main Output</li>\n</ul>\n\n<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">EQ 區段</h3>\n<ul style=\"padding-left: 1.5rem; margin-bottom: 1rem;\">\n<li><b>Low</b>: 80Hz Shelf（Allen & Heath 參考）</li>\n<li><b>Mid</b>: 2.5kHz Peak</li>\n<li><b>High</b>: 12kHz Shelf</li>\n<li><b>範圍</b>: 每段 ±12dB</li>\n<li><b>實作</b>: TBiquadFilter（IIR）</li>\n</ul>\n\n<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">Sample & Hold</h3>\n<ul style=\"padding-left: 1.5rem; margin-bottom: 1rem;\">\n<li><b>Rate</b>: 對數映射，範圍 0.01-100Hz（中心 = 1Hz）</li>\n<li><b>Slew</b>: 0-1 秒 Slew 時間</li>\n<li><b>Amount</b>: 0-5x 增益倍數</li>\n<li><b>輸出</b>: ±10V CV 輸出</li>\n</ul>\n\n<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">Parameter Reference</h3>\n<ul style=\"padding-left: 1.5rem; margin-bottom: 1rem;\">\n<li><b>Slice Scan</b>: Slice 掃描位置（0-100%）。可 CV 調變。</li>\n<li><b>Scan CV Attenuverter</b>: Slice Scan CV 輸入的 Attenuverter（-1.0 至 +1.0）。</li>\n<li><b>Slice Threshold</b>: Transient 偵測閾值（0-10V，預設 1V）。非錄音時調整會重新掃描 Buffer。</li>\n<li><b>Min Slice Time</b>: Slice 間最小時間（0.001-1.0s，預設 0.05s）。</li>\n<li><b>Loop End Point</b>: Loop 結束位置（0-100%，預設 100%）。</li>\n<li><b>Morph Random (Hold)</b>: 混沌參數變形按鈕。按住時隨機化已啟用的目標參數。</li>\n<li><b>Feedback Amount</b>: No-input Feedback 量（0-100%）。以 tanh 飽和方式將輸出回授至輸入。</li>\n<li><b>Feedback CV Attenuverter</b>: Feedback Amount CV 輸入的 Attenuverter（-1.0 至 +1.0）。</li>\n<li><b>Low EQ (80Hz)</b>: 80Hz Low Shelf EQ（±12dB）。</li>\n<li><b>Mid EQ (2.5kHz)</b>: 2.5kHz Mid Peak EQ（±12dB）。</li>\n<li><b>High EQ (12kHz)</b>: 12kHz High Shelf EQ（±12dB）。</li>\n<li><b>Playback Speed</b>: 非線性速度控制。0-25%: 反向 -8x 至 0。25-50%: 正向 0 至 1x。50-100%: 正向 1x 至 8x。</li>\n<li><b>Polyphonic Voices</b>: 播放 Voice 數量（1-8，整數對齊）。可 CV 調變。</li>\n<li><b>S&H Slew Time</b>: Sample & Hold Slew 時間（0-1s）。平滑 CV 過渡。</li>\n<li><b>S&H Gain</b>: Sample & Hold 增益倍數（0-5x）。</li>\n<li><b>S&H Gain CV Attenuverter</b>: S&H Gain CV 輸入的 Attenuverter（-1.0 至 +1.0）。</li>\n<li><b>S&H Sample Rate</b>: Sample & Hold 取樣率（0.01-100Hz，對數映射）。中心 = 1Hz。</li>\n<li><b>S&H Rate CV Attenuverter</b>: S&H Rate CV 輸入的 Attenuverter（-1.0 至 +1.0）。</li>\n<li><b>Record</b>: 切換錄音。開始時清除既有 Slice。</li>\n<li><b>Play/Loop (cycles: Loop → Play)</b>: 切換播放模式。在 Loop 與單次 Play 之間循環。</li>\n<li><b>Stop (hold 2 sec to Clear)</b>: 停止播放。按住 2 秒清除 Buffer。</li>\n</ul>\n\n<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">Input Reference</h3>\n<ul style=\"padding-left: 1.5rem; margin-bottom: 1rem;\">\n<li><b>Audio L</b>: 左聲道 Audio 錄音輸入。</li>\n<li><b>Audio R</b>: 右聲道 Audio 錄音輸入。</li>\n<li><b>Slice Scan CV</b>: Slice 掃描位置調變 CV 輸入。</li>\n<li><b>Threshold CV</b>: 閾值調變 CV 輸入。</li>\n<li><b>Feedback Amount CV</b>: Feedback Amount 調變 CV 輸入。</li>\n<li><b>Speed CV</b>: 播放速度調變 CV 輸入。</li>\n<li><b>Polyphonic CV</b>: Voice 數量調變 CV 輸入。</li>\n<li><b>S&H Amount CV</b>: S&H Gain 調變 CV 輸入。</li>\n<li><b>S&H Rate CV</b>: S&H Rate 調變 CV 輸入。</li>\n<li><b>Return L</b>: 左聲道 Return 輸入，用於外部效果器迴路。</li>\n<li><b>Return R</b>: 右聲道 Return 輸入，用於外部效果器迴路。</li>\n<li><b>Rec Trigger</b>: 切換錄音的 Trigger 輸入。</li>\n<li><b>Play Trigger</b>: 切換播放的 Trigger 輸入。</li>\n<li><b>Clear Trigger</b>: 停止/清除的 Trigger 輸入。</li>\n<li><b>Morph Gate</b>: 參數變形 Gate 輸入。Gate 為高時進行變形。</li>\n</ul>\n\n<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">Output Reference</h3>\n<ul style=\"padding-left: 1.5rem; margin-bottom: 1rem;\">\n<li><b>Main L</b>: 左聲道 Main Audio 輸出（含 EQ 與 Soft Limiter）。</li>\n<li><b>Main R</b>: 右聲道 Main Audio 輸出（含 EQ 與 Soft Limiter）。</li>\n<li><b>S&H CV</b>: Sample & Hold CV 輸出（±10V）。</li>\n<li><b>Send L</b>: 左聲道 Send 輸出，用於外部效果器迴路（EQ 前）。</li>\n<li><b>Send R</b>: 右聲道 Send 輸出，用於外部效果器迴路（EQ 前）。</li>\n</ul>\n\n<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">技術規格</h3>\n<ul style=\"padding-left: 1.5rem;\">\n<li>模組寬度: 12HP</li>\n<li>Buffer 大小: 48kHz 時 60 秒（每聲道 2,880,000 樣本）</li>\n<li>內部處理: Sample Engine 中 ±10V 硬限制</li>\n<li>Main Output: Soft Limiter -3dB（7.07V 閾值），超過時 Soft Knee 壓縮</li>\n<li>EQ 實作: Biquad IIR 濾波器</li>\n<li>Slice 儲存: 動態 Vector（無限）</li>\n<li>隨機引擎: std::default_random_engine，時間基準種子</li>\n<li>狀態持久化: Buffer、Slice、所有參數儲存至 JSON</li>\n</ul>",
  "manual_ja": "<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">概要</h3>\n<p style=\"margin-bottom: 1rem;\">カオスパラメータモーフィング、フィードバックマトリクス、スライスエンジンを備えた録音サンプラー。リアルタイム録音と自動トランジェント検出、ポリフォニック再生、3バンドEQ、サンプル＆ホールドモジュレーション、パラメータモーフィングを統合。最大録音時間：48kHzで60秒。実験的サウンドデザインとライブパフォーマンス向けに設計。</p>\n\n<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">録音とスライス</h3>\n<ul style=\"padding-left: 1.5rem; margin-bottom: 1rem;\">\n<li><b>REC</b>: 録音切替。開始時に既存スライスをクリア。</li>\n<li><b>Transient Detection</b>: 振幅が閾値を下から上へ横切ると新しいスライスをトリガー</li>\n<li><b>THRESHOLD</b>: 検出閾値（0-10V、デフォルト1V）。非録音時の調整は既存バッファを再スキャン。</li>\n<li><b>MIN SLICE</b>: スライス間の最小時間（0.001-1.0s、デフォルト0.05s）</li>\n<li><b>Slice Storage</b>: 動的std::vector（無制限スライス）。各スライスはstartSample、endSample、peakAmplitudeを保存。</li>\n</ul>\n\n<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">速度コントロール</h3>\n<ul style=\"padding-left: 1.5rem; margin-bottom: 1rem;\">\n<li><b>非線形マッピング</b>: ノブ0-1が-8x～+8xにマップ、中心が1x</li>\n<li><b>0-25%</b>: 逆再生 -8x～0</li>\n<li><b>25-50%</b>: 順再生 0～1x</li>\n<li><b>50-100%</b>: 順再生 1x～8x</li>\n<li><b>線形補間</b>: playbackPhaseを使用したサブサンプル精度で全速度でスムーズ再生</li>\n</ul>\n\n<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">ポリフォニックボイスシステム</h3>\n<ul style=\"padding-left: 1.5rem; margin-bottom: 1rem;\">\n<li><b>POLY</b>: 1-8ボイス（整数スナップ、CVモジュレート可能）</li>\n<li><b>ボイス構造</b>: 各ボイスは独立したsliceIndex、playbackPosition、playbackPhase、speedMultiplierを持つ</li>\n<li><b>速度変化</b>: ボイス1-7はランダムなspeedMultiplier（0.5-2.0x）を取得</li>\n<li><b>スライス切替</b>: ボイスはsliceChangeTimer（0.5-2.0s間隔）に基づきランダムにスライス切替</li>\n<li><b>ミックス出力</b>: マルチボイス出力をnumVoicesで除算してクリッピング防止</li>\n</ul>\n\n<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">スライスクロスフェード</h3>\n<ul style=\"padding-left: 1.5rem; margin-bottom: 1rem;\">\n<li><b>フェード時間</b>: 0.1ms（SLICE_FADE_TIME_MS定数）</li>\n<li><b>フェード増分</b>: フェード時間とサンプルレートから計算</li>\n<li><b>保留スライス</b>: フェードアウト中に新スライスをpendingSliceIndexに保存、エンベロープが0に達した後適用</li>\n<li><b>最大オシレーター周波数</b>: 約5kHz（0.1msフェードエンベロープによる制限）</li>\n</ul>\n\n<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">パラメータスムージング</h3>\n<ul style=\"padding-left: 1.5rem; margin-bottom: 1rem;\">\n<li><b>指数フィルター</b>: サンプルごとに0.5%ステップでターゲット値に向かってスムーズ補間</li>\n<li><b>時定数</b>: 44.1kHzで約5ms</li>\n<li><b>スムーズパラメータ</b>: Scan、Threshold、LoopEnd、FeedbackAmount、FeedbackDelay</li>\n</ul>\n\n<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">フィードバックシステム</h3>\n<ul style=\"padding-left: 1.5rem; margin-bottom: 1rem;\">\n<li><b>ノーインプットフィードバック</b>: アナログスタイル飽和で出力が入力にフィードバック</li>\n<li><b>飽和</b>: tanhソフトクリッピング適用、低レベルでユニティゲインを維持</li>\n<li><b>ミックス</b>: フィードバック信号をフィードバック量でスケーリングして出力に加算</li>\n</ul>\n\n<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">モーフシステム</h3>\n<ul style=\"padding-left: 1.5rem; margin-bottom: 1rem;\">\n<li><b>状態</b>: IDLE、MORPHING、HOLDING、RETURNING</li>\n<li><b>カーブ</b>: Linear、Smooth（Sカーブイージング）、Exponential（速いアタック、遅いディケイ）、Bezier（cubic）</li>\n<li><b>デフォルトターゲット</b>: EQ、Scan、Feedback、Speed有効。Threshold、MinSlice、S&H無効。</li>\n<li><b>モーフ時間</b>: 1-20秒（右クリックメニューで設定可能）</li>\n</ul>\n\n<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">センド/リターンループ</h3>\n<ul style=\"padding-left: 1.5rem; margin-bottom: 1rem;\">\n<li><b>Send L/R</b>: EQ処理前の現在のオーディオ信号を出力（フィードバックループ内）</li>\n<li><b>Return L/R</b>: 接続時は外部リターンで信号を置換。外部エフェクトをフィードバックチェーンに挿入可能。</li>\n<li><b>信号チェーン位置</b>: センド/リターンは再生+フィードバックミキシング後、EQ前に配置。EQ後の出力が次のサイクルにフィードバック。</li>\n</ul>\n\n<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">ソフトリミッター</h3>\n<ul style=\"padding-left: 1.5rem; margin-bottom: 1rem;\">\n<li><b>閾値</b>: -3dB（10Vピークシステムで7.07V）</li>\n<li><b>閾値以下</b>: 信号はそのまま通過（リニア）</li>\n<li><b>閾値以上</b>: ソフトニーコンプレッション、サチュレーション量0.2</li>\n<li><b>位置</b>: EQ後、最終出力前のメイン出力に適用</li>\n</ul>\n\n<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">EQセクション</h3>\n<ul style=\"padding-left: 1.5rem; margin-bottom: 1rem;\">\n<li><b>Low</b>: 80Hz Shelf（Allen & Heath参照）</li>\n<li><b>Mid</b>: 2.5kHz Peak</li>\n<li><b>High</b>: 12kHz Shelf</li>\n<li><b>範囲</b>: 各バンド±12dB</li>\n<li><b>実装</b>: TBiquadFilter（IIR）</li>\n</ul>\n\n<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">サンプル＆ホールド</h3>\n<ul style=\"padding-left: 1.5rem; margin-bottom: 1rem;\">\n<li><b>Rate</b>: 対数マッピング、範囲0.01-100Hz（中心=1Hz）</li>\n<li><b>Slew</b>: 0-1秒スルー時間</li>\n<li><b>Amount</b>: 0-5xゲイン倍率</li>\n<li><b>出力</b>: ±10V CV出力</li>\n</ul>\n\n<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">Parameter Reference</h3>\n<ul style=\"padding-left: 1.5rem; margin-bottom: 1rem;\">\n<li><b>Slice Scan</b>: スライススキャン位置（0-100%）。CVモジュレート可能。</li>\n<li><b>Scan CV Attenuverter</b>: Slice Scan CV入力用アッテヌバーター（-1.0～+1.0）。</li>\n<li><b>Slice Threshold</b>: トランジェント検出閾値（0-10V、デフォルト1V）。非録音時の調整でバッファを再スキャン。</li>\n<li><b>Min Slice Time</b>: スライス間の最小時間（0.001-1.0s、デフォルト0.05s）。</li>\n<li><b>Loop End Point</b>: ループ終了位置（0-100%、デフォルト100%）。</li>\n<li><b>Morph Random (Hold)</b>: カオスパラメータモーフィングボタン。押し続けると有効なターゲットをランダム化。</li>\n<li><b>Feedback Amount</b>: ノーインプットフィードバック量（0-100%）。tanh飽和で出力を入力にフィードバック。</li>\n<li><b>Feedback CV Attenuverter</b>: Feedback Amount CV入力用アッテヌバーター（-1.0～+1.0）。</li>\n<li><b>Low EQ (80Hz)</b>: 80Hz ローシェルフEQ（±12dB）。</li>\n<li><b>Mid EQ (2.5kHz)</b>: 2.5kHz ミッドピークEQ（±12dB）。</li>\n<li><b>High EQ (12kHz)</b>: 12kHz ハイシェルフEQ（±12dB）。</li>\n<li><b>Playback Speed</b>: 非線形速度コントロール。0-25%: 逆再生-8x～0。25-50%: 順再生0～1x。50-100%: 順再生1x～8x。</li>\n<li><b>Polyphonic Voices</b>: 再生ボイス数（1-8、整数スナップ）。CVモジュレート可能。</li>\n<li><b>S&H Slew Time</b>: サンプル＆ホールドスルー時間（0-1s）。CVトランジションをスムーズ化。</li>\n<li><b>S&H Gain</b>: サンプル＆ホールドゲイン倍率（0-5x）。</li>\n<li><b>S&H Gain CV Attenuverter</b>: S&H Gain CV入力用アッテヌバーター（-1.0～+1.0）。</li>\n<li><b>S&H Sample Rate</b>: サンプル＆ホールドレート（0.01-100Hz、対数）。中心=1Hz。</li>\n<li><b>S&H Rate CV Attenuverter</b>: S&H Rate CV入力用アッテヌバーター（-1.0～+1.0）。</li>\n<li><b>Record</b>: 録音切替。開始時に既存スライスをクリア。</li>\n<li><b>Play/Loop (cycles: Loop → Play)</b>: 再生モード切替。ループとワンショット再生を切り替え。</li>\n<li><b>Stop (hold 2 sec to Clear)</b>: 再生停止。2秒長押しでバッファクリア。</li>\n</ul>\n\n<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">Input Reference</h3>\n<ul style=\"padding-left: 1.5rem; margin-bottom: 1rem;\">\n<li><b>Audio L</b>: 左チャンネルオーディオ録音入力。</li>\n<li><b>Audio R</b>: 右チャンネルオーディオ録音入力。</li>\n<li><b>Slice Scan CV</b>: スライススキャン位置変調CV入力。</li>\n<li><b>Threshold CV</b>: 閾値変調CV入力。</li>\n<li><b>Feedback Amount CV</b>: フィードバック量変調CV入力。</li>\n<li><b>Speed CV</b>: 再生速度変調CV入力。</li>\n<li><b>Polyphonic CV</b>: ボイス数変調CV入力。</li>\n<li><b>S&H Amount CV</b>: S&Hゲイン変調CV入力。</li>\n<li><b>S&H Rate CV</b>: S&Hレート変調CV入力。</li>\n<li><b>Return L</b>: 左チャンネルリターン入力（外部エフェクトループ用）。</li>\n<li><b>Return R</b>: 右チャンネルリターン入力（外部エフェクトループ用）。</li>\n<li><b>Rec Trigger</b>: 録音切替トリガー入力。</li>\n<li><b>Play Trigger</b>: 再生切替トリガー入力。</li>\n<li><b>Clear Trigger</b>: 停止/クリアトリガー入力。</li>\n<li><b>Morph Gate</b>: パラメータモーフィングゲート入力。ゲートがハイの間モーフィング実行。</li>\n</ul>\n\n<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">Output Reference</h3>\n<ul style=\"padding-left: 1.5rem; margin-bottom: 1rem;\">\n<li><b>Main L</b>: 左チャンネルメインオーディオ出力（EQ・ソフトリミッター適用済み）。</li>\n<li><b>Main R</b>: 右チャンネルメインオーディオ出力（EQ・ソフトリミッター適用済み）。</li>\n<li><b>S&H CV</b>: サンプル＆ホールドCV出力（±10V）。</li>\n<li><b>Send L</b>: 左チャンネルセンド出力（外部エフェクトループ用、EQ前）。</li>\n<li><b>Send R</b>: 右チャンネルセンド出力（外部エフェクトループ用、EQ前）。</li>\n</ul>\n\n<h3 style=\"color: #ff6b9d; margin-bottom: 0.8rem; border-bottom: 2px solid #2a2a4a; padding-bottom: 0.5rem;\">技術仕様</h3>\n<ul style=\"padding-left: 1.5rem;\">\n<li>モジュール幅: 12HP</li>\n<li>バッファサイズ: 48kHzで60秒（チャンネルあたり2,880,000サンプル）</li>\n<li>内部処理: サンプルエンジン内 ±10Vハードクランプ</li>\n<li>メイン出力: ソフトリミッター -3dB（7.07V閾値）、超過時ソフトニーコンプレッション</li>\n<li>EQ実装: Biquad IIRフィルター</li>\n<li>スライス保存: 動的ベクター（無制限）</li>\n<li>乱数エンジン: std::default_random_engine、時間ベースシード</li>\n<li>状態永続化: バッファ、スライス、全パラメータをJSONに保存</li>\n</ul>"
}